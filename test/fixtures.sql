-- Test fixtures for Atuin database

-- Clear existing data
TRUNCATE TABLE history CASCADE;
TRUNCATE TABLE store CASCADE;

-- Insert test data into history table (legacy)
-- Sample commands from Jan 2024
INSERT INTO history (id, client_id, user_id, hostname, timestamp, command, cwd, duration, exit, session, deleted_at) VALUES
('11111111-1111-1111-1111-111111111111', '22222222-2222-2222-2222-222222222222', '33333333-3333-3333-3333-333333333333', 'test-host', '2024-01-01 09:00:00+00', 'ls -la', '/home/user', 100, 0, 'session1', NULL),
('11111111-1111-1111-1111-111111111112', '22222222-2222-2222-2222-222222222222', '33333333-3333-3333-3333-333333333333', 'test-host', '2024-01-01 10:00:00+00', 'git status', '/home/user/project', 150, 0, 'session1', NULL),
('11111111-1111-1111-1111-111111111113', '22222222-2222-2222-2222-222222222222', '33333333-3333-3333-3333-333333333333', 'test-host', '2024-01-01 11:00:00+00', 'deno test', '/home/user/project', 5000, 0, 'session1', NULL),
('11111111-1111-1111-1111-111111111114', '22222222-2222-2222-2222-222222222222', '33333333-3333-3333-3333-333333333333', 'test-host', '2024-01-01 14:00:00+00', 'curl https://example.com', '/home/user', 200, 0, 'session1', NULL),
('11111111-1111-1111-1111-111111111115', '22222222-2222-2222-2222-222222222222', '33333333-3333-3333-3333-333333333333', 'test-host', '2024-01-01 15:00:00+00', 'npm install', '/home/user/project', 10000, 0, 'session1', NULL),

('11111111-1111-1111-1111-111111111116', '22222222-2222-2222-2222-222222222222', '33333333-3333-3333-3333-333333333333', 'test-host', '2024-01-02 09:00:00+00', 'git pull', '/home/user/project', 300, 0, 'session2', NULL),
('11111111-1111-1111-1111-111111111117', '22222222-2222-2222-2222-222222222222', '33333333-3333-3333-3333-333333333333', 'test-host', '2024-01-02 10:00:00+00', 'cat README.md', '/home/user/project', 50, 0, 'session2', NULL),
('11111111-1111-1111-1111-111111111118', '22222222-2222-2222-2222-222222222222', '33333333-3333-3333-3333-333333333333', 'test-host', '2024-01-02 11:00:00+00', 'vim config.ts', '/home/user/project', 30000, 0, 'session2', NULL),

-- Deleted entry (should be filtered out)
('11111111-1111-1111-1111-111111111119', '22222222-2222-2222-2222-222222222222', '33333333-3333-3333-3333-333333333333', 'test-host', '2024-01-03 09:00:00+00', 'rm -rf node_modules', '/home/user/project', 1000, 0, 'session3', '2024-01-03 09:05:00+00');

-- Insert test data into store table (new record sync)
-- Sample commands from Jan 2026 (timestamps in nanoseconds)
INSERT INTO store (id, client_id, host_id, tag, timestamp, version, data, crc, idx, created_at) VALUES
-- 2026-01-01 09:00:00 = 1767258000 seconds = 1767258000000000000 nanoseconds
('44444444-4444-4444-4444-444444444441', '22222222-2222-2222-2222-222222222222', '55555555-5555-5555-5555-555555555555', 'history', 1767258000000000000, 'v1', '\x01020304', 12345, 1, '2026-01-01 09:00:00+00'),
('44444444-4444-4444-4444-444444444442', '22222222-2222-2222-2222-222222222222', '55555555-5555-5555-5555-555555555555', 'history', 1767261600000000000, 'v1', '\x01020304', 12346, 2, '2026-01-01 10:00:00+00'),
('44444444-4444-4444-4444-444444444443', '22222222-2222-2222-2222-222222222222', '55555555-5555-5555-5555-555555555555', 'history', 1767265200000000000, 'v1', '\x01020304', 12347, 3, '2026-01-01 11:00:00+00'),
('44444444-4444-4444-4444-444444444444', '22222222-2222-2222-2222-222222222222', '55555555-5555-5555-5555-555555555555', 'history', 1767276000000000000, 'v1', '\x01020304', 12348, 4, '2026-01-01 14:00:00+00'),
('44444444-4444-4444-4444-444444444445', '22222222-2222-2222-2222-222222222222', '55555555-5555-5555-5555-555555555555', 'history', 1767279600000000000, 'v1', '\x01020304', 12349, 5, '2026-01-01 15:00:00+00'),

-- 2026-01-02 = +86400 seconds
('44444444-4444-4444-4444-444444444446', '22222222-2222-2222-2222-222222222222', '55555555-5555-5555-5555-555555555555', 'history', 1767344400000000000, 'v1', '\x01020304', 12350, 6, '2026-01-02 09:00:00+00'),
('44444444-4444-4444-4444-444444444447', '22222222-2222-2222-2222-222222222222', '55555555-5555-5555-5555-555555555555', 'history', 1767348000000000000, 'v1', '\x01020304', 12351, 7, '2026-01-02 10:00:00+00'),
('44444444-4444-4444-4444-444444444448', '22222222-2222-2222-2222-222222222222', '55555555-5555-5555-5555-555555555555', 'history', 1767351600000000000, 'v1', '\x01020304', 12352, 8, '2026-01-02 11:00:00+00'),

-- Non-history tag (should be filtered out)
('44444444-4444-4444-4444-444444444449', '22222222-2222-2222-2222-222222222222', '55555555-5555-5555-5555-555555555555', 'config', 1767351600000000000, 'v1', '\x01020304', 12353, 9, '2026-01-02 11:00:00+00');
